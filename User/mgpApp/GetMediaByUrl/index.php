<?php
$GETmediaurl = $_GET['url'];
set_time_limit(20);
date_default_timezone_set('UTC');
require __DIR__.'/../../mgp/vendor/autoload.php';
\InstagramAPI\Instagram::$allowDangerousWebUsageAtMyOwnRisk = true;
/////// CONFIG ///////
$username = '8saminta';
$password = '8saminta@1236541';
$debug = false;
$truncatedDebug = false;
//////////////////////
/////// MEDIA ////////

$captionText = 'Test api';
//////////////////////
$ig = new \InstagramAPI\Instagram($debug, $truncatedDebug);
try {
    $ig->login($username, $password);
} catch (\Exception $e) {
    echo 'Something went wrong: '.$e->getMessage()."\n";
    exit(0);
}

try {
    // The most basic upload command, if you're sure that your photo file is
    // valid on Instagram (that it fits all requirements), is the following:
    // $ig->timeline->uploadPhoto($photoFilename, ['caption' => $captionText]);
    // However, if you want to guarantee that the file is valid (correct format,
    // width, height and aspect ratio), then you can run it through our
    // automatic photo processing class. It is pretty fast, and only does any
    // work when the input file is invalid, so you may want to always use it.
    // You have nothing to worry about, since the class uses temporary files if
    // the input needs processing, and it never overwrites your original file.
    //
    // Also note that it has lots of options, so read its class documentation!
    //$photo = new \InstagramAPI\Media\Photo\InstagramPhoto($photoFilename);
    //$user = $ig->people->getInfoByName('mohs3nmolaei');
     $userId = $ig->people->getUserIdForName('crateandbarrel');
     $response = $ig->timeline->getUserFeed($userId);
    //var_dump($response);
//    echo '***********************';
//    echo '***********************';
//    echo '***********************';
//    echo '***********************';
//    echo '***********************';
//    echo $userId;
//    echo '***********************';
//    echo '***********************';
//    echo '***********************';
//    echo '***********************';
    
//    foreach ($response->getItems() as $item) {
//        echo $item->getId();
//        echo '<br>';
//        
//    }        

    
//            foreach($item->Comment($item->getId()) as $h){
//                $posts[] = ['id' => $item->getId(), 'username' => $h->username];
//            }
       
       //loop through likes as u can see in [source 1][1] there is some method called 'getLikers()' which u can call on a media object.
       // var_dump($response);
//        foreach($item->getMedia() as $h){
//        echo '<br>';
//        var_dump($item);
//        }
//    }
/*****************************/

        $myTimeline = $response;
            // Build a list of all media files on this page.
            $mediaFiles = []; // Reset queue.
            foreach ($myTimeline->getItems() as $item) {
                $mediaurl = $item->getItemUrl();
                if ($mediaurl == $GETmediaurl ){
                    
                
               $caption=''; 
               
               
               $caption=null;
               if ($item->getCaption()){
                  $caption = $item->getCaption()->getText();
               }

              // var_dump($item->getCaption()->getText());

                //$caption = $item->getCaption()->getText();    

                
                
                
                $itemDate = date('Y-m-d \a\t H.i.s O', $item->getTakenAt());
                if ($item->getMediaType() == \InstagramAPI\Response\Model\Item::ALBUM ) {
                    
                    // Albums contain multiple items which must all be queued.
                    // NOTE: We won't name them by their subitem's getIds, since
                    // those Ids have no meaning outside of the album and they
                    // would just mean that the album content is spread out with
                    // wildly varying filenames. Instead, we will name all album
                    // items after their album's Id, with a position offset in
                    // their filename to show their position within the album.
                    $subPosition = 0;
                    foreach ($item->getCarouselMedia() as $subItem) {
                        ++$subPosition;
                        if ($subItem->getMediaType() == \InstagramAPI\Response\Model\CarouselMedia::PHOTO) {
                            $mediaUrl = $subItem->getImageVersions2()->getCandidates()[0]->getUrl();
                        } else {
                            $mediaUrl = $subItem->getVideoVersions()[0]->getUrl();
                        }
                        //$subItemId = sprintf('%s [%s-%02d]', $itemDate, $item->getId(), $subPosition);
                        $subItemId = sprintf('%s-%02d',  $item->getId(), $subPosition);
                        $mediaFiles[$subItemId] = [
                            
                            'taken_at'  => $item->getTakenAt(),
                            'Caption'   =>  $caption,
                            'mediaUrl'  =>  $item->getItemUrl(),
                            'url'       => $mediaUrl,
                            'mediaType' => $subItem->getMediaType()
                        ];
                    }
                } else {
                    if ($item->getMediaType() == \InstagramAPI\Response\Model\Item::PHOTO) { 
                        $mediaUrl = $item->getImageVersions2()->getCandidates()[0]->getUrl();
                    } else {
                        $mediaUrl = $item->getVideoVersions()[0]->getUrl();
                    }
                    //$itemId = sprintf('%s [%s]', $itemDate, $item->getId());
                    $itemId = sprintf('%s-01', $item->getId());
                    $mediaFiles[$itemId] = [
                        'taken_at'  => $item->getTakenAt(),
                        'Caption'   => $caption,
                        'mediaUrl'  =>  $item->getItemUrl(),
                        'url'       => $mediaUrl,
                        'mediaType' => $subItem->getMediaType()
                    ];
                }
                
                
            }  
            }
            header('Content-Type: application/json');
            header('Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS');
            header("Access-Control-Allow-Origin: *");
            header("Cache-Control: private, must-revalidate");
            header("Vary: Accept-Encoding,User-Agent");
            header("X-RateLimit-Limit: 60");
            header("X-RateLimit-Remaining: 59");
            header("expires: -1");
            header("pragma: no-cache");
            
            
            
            
            
            
            
            
            $kama= '';
            $data='';
            $itemno =1;
            foreach ($mediaFiles as $key=>$value){
//                echo $key;
//                echo '<br>';
//                var_dump($value);
//                echo '<br>';
//                echo json_encode($value['Caption']) ;
//                die();
               $data .= $kama . '
                    {
                        "id": "'.$key.'",
                        "user_id":  "'.$userId.'",
                        "title":  "'.$key.'",
                        "body": '.json_encode($value['Caption']).',
                        "image": "'.$value['url'].'",
                        "MediaType": "'.$value['mediaType'].'",
                        "price": "6501",
                        "mediaUrl" : "'.$value['mediaUrl'].'",
                        "created_at": "2018-07-26 14:31:46",
                        "updated_at": "2018-07-26 14:31:46"
                    }'
                ;
               $kama=',';
                
               if($itemno>11){
                   break;
               }
               $itemno++;
            }
        
            
            $final =  '{
                        "data": {
                            "current_page": 1,
                            "data": [
                                    '.$data.'
                            ],
                            "first_page_url": "localhost/scrapper/mgp25/GetUserFeed.php?page=1",
                            "from": 1,
                            "last_page": 1,
                            "last_page_url": "localhost/scrapper/mgp25/GetUserFeed.php?page=6",
                            "next_page_url": "localhost/scrapper/mgp25/GetUserFeed.php?page=2",
                            "path": "localhost/scrapper/mgp25/GetUserFeed.php",
                            "per_page": 6,
                            "prev_page_url": null,
                            "to": 6,
                            "total": 35
                        },
                        "status": "success"
                    }';
  
            //$manage = json_decode($final, true);

            //$string = preg_replace("/[\r\n]+/", " ", $final);
            //$json = utf8_encode($final); 
            //$json = json_encode($final);
            echo $final;
            
          // echo 11111; 
            
         // echo '{"data":{"current_page":1,"data":[{"id":44,"user_id":1,"title":"\u0645\u062d\u0635\u0648\u0644 \u0634\u0645\u0627\u0631\u0647 35","body":"\u0637\u0631\u0627\u062d \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0627\u0632 \u0627\u06cc\u0646 \u0645\u062a\u0646 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0639\u0646\u0635\u0631\u06cc \u0627\u0632 \u062a\u0631\u06a9\u06cc\u0628 \u0628\u0646\u062f\u06cc \u0628\u0631\u0627\u06cc \u067e\u0631 \u06a9\u0631\u062f\u0646 \u0635\u0641\u062d\u0647 \u0648 \u0627\u0631\u0627\u06cc\u0647 \u0627\u0648\u0644\u06cc\u0647 \u0634\u06a9\u0644 \u0638\u0627\u0647\u0631\u06cc \u0648 \u06a9\u0644\u06cc \u0637\u0631\u062d \u0633\u0641\u0627\u0631\u0634 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0646\u0645\u0627\u06cc\u062f\u060c \u062a\u0627 \u0627\u0632 \u0646\u0638\u0631 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u0646\u0634\u0627\u0646\u06af\u0631 \u0686\u06af\u0648\u0646\u06af\u06cc \u0646\u0648\u0639 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0648\u0646\u062a \u0648 \u0638\u0627\u0647\u0631 \u0645\u062a\u0646 \u0628\u0627\u0634\u062f. \u0645\u0639\u0645\u0648\u0644\u0627 \u0637\u0631\u0627\u062d\u0627\u0646 \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc\u060c \u0646\u062e\u0633\u062a \u0627\u0632 \u0645\u062a\u0646\u200c\u0647\u0627\u06cc \u0622\u0632\u0645\u0627\u06cc\u0634\u06cc \u0648 \u0628\u06cc\u200c\u0645\u0639\u0646\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0635\u0631\u0641\u0627 \u0628\u0647 \u0645\u0634\u062a\u0631\u06cc \u06cc\u0627 \u0635\u0627\u062d\u0628 \u06a9\u0627\u0631 \u062e\u0648\u062f \u0646\u0634\u0627\u0646 \u062f\u0647\u0646\u062f \u06a9\u0647 \u0635\u0641\u062d\u0647 \u0637\u0631\u0627\u062d\u06cc \u06cc\u0627 \u0635\u0641\u062d\u0647 \u0628\u0646\u062f\u06cc \u0634\u062f\u0647 \u0628\u0639\u062f \u0627\u0632 \u0627\u06cc\u0646\u06a9\u0647 \u0645\u062a\u0646 \u062f\u0631 \u0622\u0646 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u062f \u0686\u06af\u0648\u0646\u0647 \u0628\u0647 \u0646\u0638\u0631 \u0645\u06cc\u200c\u0631\u0633\u062f \u0648 \u0642\u0644\u0645\u200c\u0647\u0627 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627 \u0686\u06af\u0648\u0646\u0647 \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647\u200c\u0627\u0633\u062a. \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0637\u0631\u0627\u062d\u0627\u0646 \u0639\u0645\u0648\u0645\u0627 \u0646\u0648\u06cc\u0633\u0646\u062f\u0647 \u0645\u062a\u0646 \u0646\u06cc\u0633\u062a\u0646\u062f \u0648 \u0648\u0638\u06cc\u0641\u0647 \u0631\u0639\u0627\u06cc\u062a \u062d\u0642 \u062a\u06a9\u062b\u06cc\u0631 \u0645\u062a\u0648\u0646 \u0631\u0627 \u0646\u062f\u0627\u0631\u0646\u062f \u0648 \u062f\u0631 \u0647\u0645\u0627\u0646 \u062d\u0627\u0644 \u06a9\u0627\u0631 \u0622\u0646\u0647\u0627 \u0628\u0647 \u0646\u0648\u0639\u06cc \u0648\u0627\u0628\u0633\u062a\u0647 \u0628\u0647 \u0645\u062a\u0646 \u0645\u06cc\u200c\u0628\u0627\u0634\u062f \u0622\u0646\u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0645\u062d\u062a\u0648\u06cc\u0627\u062a \u0633\u0627\u062e\u062a\u06af\u06cc\u060c \u0635\u0641\u062d\u0647 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u062e\u0648\u062f \u0631\u0627 \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0645\u0631\u062d\u0644\u0647 \u0637\u0631\u0627\u062d\u06cc \u0648 \u0635\u0641\u062d\u0647\u200c\u0628\u0646\u062f\u06cc \u0631\u0627 \u0628\u0647 \u067e\u0627\u06cc\u0627\u0646 \u0628\u0631\u0646\u062f.","image":"http:\/\/roocket.org\/images\/uploads\/1532615506redis-thum.png","price":"6500","created_at":"2018-07-26 14:31:46","updated_at":"2018-07-26 14:31:46"},{"id":43,"user_id":1,"title":"\u0645\u062d\u0635\u0648\u0644 \u0634\u0645\u0627\u0631\u0647 34","body":"\u0637\u0631\u0627\u062d \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0627\u0632 \u0627\u06cc\u0646 \u0645\u062a\u0646 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0639\u0646\u0635\u0631\u06cc \u0627\u0632 \u062a\u0631\u06a9\u06cc\u0628 \u0628\u0646\u062f\u06cc \u0628\u0631\u0627\u06cc \u067e\u0631 \u06a9\u0631\u062f\u0646 \u0635\u0641\u062d\u0647 \u0648 \u0627\u0631\u0627\u06cc\u0647 \u0627\u0648\u0644\u06cc\u0647 \u0634\u06a9\u0644 \u0638\u0627\u0647\u0631\u06cc \u0648 \u06a9\u0644\u06cc \u0637\u0631\u062d \u0633\u0641\u0627\u0631\u0634 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0646\u0645\u0627\u06cc\u062f\u060c \u062a\u0627 \u0627\u0632 \u0646\u0638\u0631 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u0646\u0634\u0627\u0646\u06af\u0631 \u0686\u06af\u0648\u0646\u06af\u06cc \u0646\u0648\u0639 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0648\u0646\u062a \u0648 \u0638\u0627\u0647\u0631 \u0645\u062a\u0646 \u0628\u0627\u0634\u062f. \u0645\u0639\u0645\u0648\u0644\u0627 \u0637\u0631\u0627\u062d\u0627\u0646 \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc\u060c \u0646\u062e\u0633\u062a \u0627\u0632 \u0645\u062a\u0646\u200c\u0647\u0627\u06cc \u0622\u0632\u0645\u0627\u06cc\u0634\u06cc \u0648 \u0628\u06cc\u200c\u0645\u0639\u0646\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0635\u0631\u0641\u0627 \u0628\u0647 \u0645\u0634\u062a\u0631\u06cc \u06cc\u0627 \u0635\u0627\u062d\u0628 \u06a9\u0627\u0631 \u062e\u0648\u062f \u0646\u0634\u0627\u0646 \u062f\u0647\u0646\u062f \u06a9\u0647 \u0635\u0641\u062d\u0647 \u0637\u0631\u0627\u062d\u06cc \u06cc\u0627 \u0635\u0641\u062d\u0647 \u0628\u0646\u062f\u06cc \u0634\u062f\u0647 \u0628\u0639\u062f \u0627\u0632 \u0627\u06cc\u0646\u06a9\u0647 \u0645\u062a\u0646 \u062f\u0631 \u0622\u0646 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u062f \u0686\u06af\u0648\u0646\u0647 \u0628\u0647 \u0646\u0638\u0631 \u0645\u06cc\u200c\u0631\u0633\u062f \u0648 \u0642\u0644\u0645\u200c\u0647\u0627 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627 \u0686\u06af\u0648\u0646\u0647 \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647\u200c\u0627\u0633\u062a. \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0637\u0631\u0627\u062d\u0627\u0646 \u0639\u0645\u0648\u0645\u0627 \u0646\u0648\u06cc\u0633\u0646\u062f\u0647 \u0645\u062a\u0646 \u0646\u06cc\u0633\u062a\u0646\u062f \u0648 \u0648\u0638\u06cc\u0641\u0647 \u0631\u0639\u0627\u06cc\u062a \u062d\u0642 \u062a\u06a9\u062b\u06cc\u0631 \u0645\u062a\u0648\u0646 \u0631\u0627 \u0646\u062f\u0627\u0631\u0646\u062f \u0648 \u062f\u0631 \u0647\u0645\u0627\u0646 \u062d\u0627\u0644 \u06a9\u0627\u0631 \u0622\u0646\u0647\u0627 \u0628\u0647 \u0646\u0648\u0639\u06cc \u0648\u0627\u0628\u0633\u062a\u0647 \u0628\u0647 \u0645\u062a\u0646 \u0645\u06cc\u200c\u0628\u0627\u0634\u062f \u0622\u0646\u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0645\u062d\u062a\u0648\u06cc\u0627\u062a \u0633\u0627\u062e\u062a\u06af\u06cc\u060c \u0635\u0641\u062d\u0647 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u062e\u0648\u062f \u0631\u0627 \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0645\u0631\u062d\u0644\u0647 \u0637\u0631\u0627\u062d\u06cc \u0648 \u0635\u0641\u062d\u0647\u200c\u0628\u0646\u062f\u06cc \u0631\u0627 \u0628\u0647 \u067e\u0627\u06cc\u0627\u0646 \u0628\u0631\u0646\u062f.","image":"http:\/\/roocket.org\/images\/uploads\/1532615505github-thum.png","price":"5500","created_at":"2018-07-26 14:31:45","updated_at":"2018-07-26 14:31:45"},{"id":41,"user_id":1,"title":"\u0645\u062d\u0635\u0648\u0644 \u0634\u0645\u0627\u0631\u0647 33","body":"\u0637\u0631\u0627\u062d \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0627\u0632 \u0627\u06cc\u0646 \u0645\u062a\u0646 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0639\u0646\u0635\u0631\u06cc \u0627\u0632 \u062a\u0631\u06a9\u06cc\u0628 \u0628\u0646\u062f\u06cc \u0628\u0631\u0627\u06cc \u067e\u0631 \u06a9\u0631\u062f\u0646 \u0635\u0641\u062d\u0647 \u0648 \u0627\u0631\u0627\u06cc\u0647 \u0627\u0648\u0644\u06cc\u0647 \u0634\u06a9\u0644 \u0638\u0627\u0647\u0631\u06cc \u0648 \u06a9\u0644\u06cc \u0637\u0631\u062d \u0633\u0641\u0627\u0631\u0634 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0646\u0645\u0627\u06cc\u062f\u060c \u062a\u0627 \u0627\u0632 \u0646\u0638\u0631 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u0646\u0634\u0627\u0646\u06af\u0631 \u0686\u06af\u0648\u0646\u06af\u06cc \u0646\u0648\u0639 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0648\u0646\u062a \u0648 \u0638\u0627\u0647\u0631 \u0645\u062a\u0646 \u0628\u0627\u0634\u062f. \u0645\u0639\u0645\u0648\u0644\u0627 \u0637\u0631\u0627\u062d\u0627\u0646 \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc\u060c \u0646\u062e\u0633\u062a \u0627\u0632 \u0645\u062a\u0646\u200c\u0647\u0627\u06cc \u0622\u0632\u0645\u0627\u06cc\u0634\u06cc \u0648 \u0628\u06cc\u200c\u0645\u0639\u0646\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0635\u0631\u0641\u0627 \u0628\u0647 \u0645\u0634\u062a\u0631\u06cc \u06cc\u0627 \u0635\u0627\u062d\u0628 \u06a9\u0627\u0631 \u062e\u0648\u062f \u0646\u0634\u0627\u0646 \u062f\u0647\u0646\u062f \u06a9\u0647 \u0635\u0641\u062d\u0647 \u0637\u0631\u0627\u062d\u06cc \u06cc\u0627 \u0635\u0641\u062d\u0647 \u0628\u0646\u062f\u06cc \u0634\u062f\u0647 \u0628\u0639\u062f \u0627\u0632 \u0627\u06cc\u0646\u06a9\u0647 \u0645\u062a\u0646 \u062f\u0631 \u0622\u0646 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u062f \u0686\u06af\u0648\u0646\u0647 \u0628\u0647 \u0646\u0638\u0631 \u0645\u06cc\u200c\u0631\u0633\u062f \u0648 \u0642\u0644\u0645\u200c\u0647\u0627 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627 \u0686\u06af\u0648\u0646\u0647 \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647\u200c\u0627\u0633\u062a. \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0637\u0631\u0627\u062d\u0627\u0646 \u0639\u0645\u0648\u0645\u0627 \u0646\u0648\u06cc\u0633\u0646\u062f\u0647 \u0645\u062a\u0646 \u0646\u06cc\u0633\u062a\u0646\u062f \u0648 \u0648\u0638\u06cc\u0641\u0647 \u0631\u0639\u0627\u06cc\u062a \u062d\u0642 \u062a\u06a9\u062b\u06cc\u0631 \u0645\u062a\u0648\u0646 \u0631\u0627 \u0646\u062f\u0627\u0631\u0646\u062f \u0648 \u062f\u0631 \u0647\u0645\u0627\u0646 \u062d\u0627\u0644 \u06a9\u0627\u0631 \u0622\u0646\u0647\u0627 \u0628\u0647 \u0646\u0648\u0639\u06cc \u0648\u0627\u0628\u0633\u062a\u0647 \u0628\u0647 \u0645\u062a\u0646 \u0645\u06cc\u200c\u0628\u0627\u0634\u062f \u0622\u0646\u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0645\u062d\u062a\u0648\u06cc\u0627\u062a \u0633\u0627\u062e\u062a\u06af\u06cc\u060c \u0635\u0641\u062d\u0647 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u062e\u0648\u062f \u0631\u0627 \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0645\u0631\u062d\u0644\u0647 \u0637\u0631\u0627\u062d\u06cc \u0648 \u0635\u0641\u062d\u0647\u200c\u0628\u0646\u062f\u06cc \u0631\u0627 \u0628\u0647 \u067e\u0627\u06cc\u0627\u0646 \u0628\u0631\u0646\u062f.","image":"http:\/\/roocket.org\/images\/uploads\/1532615399vscode-thum.png","price":"1200","created_at":"2018-07-26 14:29:59","updated_at":"2018-07-26 14:29:59"},{"id":42,"user_id":1,"title":"\u0645\u062d\u0635\u0648\u0644 \u0634\u0645\u0627\u0631\u0647 32","body":"\u0637\u0631\u0627\u062d \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0627\u0632 \u0627\u06cc\u0646 \u0645\u062a\u0646 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0639\u0646\u0635\u0631\u06cc \u0627\u0632 \u062a\u0631\u06a9\u06cc\u0628 \u0628\u0646\u062f\u06cc \u0628\u0631\u0627\u06cc \u067e\u0631 \u06a9\u0631\u062f\u0646 \u0635\u0641\u062d\u0647 \u0648 \u0627\u0631\u0627\u06cc\u0647 \u0627\u0648\u0644\u06cc\u0647 \u0634\u06a9\u0644 \u0638\u0627\u0647\u0631\u06cc \u0648 \u06a9\u0644\u06cc \u0637\u0631\u062d \u0633\u0641\u0627\u0631\u0634 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0646\u0645\u0627\u06cc\u062f\u060c \u062a\u0627 \u0627\u0632 \u0646\u0638\u0631 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u0646\u0634\u0627\u0646\u06af\u0631 \u0686\u06af\u0648\u0646\u06af\u06cc \u0646\u0648\u0639 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0648\u0646\u062a \u0648 \u0638\u0627\u0647\u0631 \u0645\u062a\u0646 \u0628\u0627\u0634\u062f. \u0645\u0639\u0645\u0648\u0644\u0627 \u0637\u0631\u0627\u062d\u0627\u0646 \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc\u060c \u0646\u062e\u0633\u062a \u0627\u0632 \u0645\u062a\u0646\u200c\u0647\u0627\u06cc \u0622\u0632\u0645\u0627\u06cc\u0634\u06cc \u0648 \u0628\u06cc\u200c\u0645\u0639\u0646\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0635\u0631\u0641\u0627 \u0628\u0647 \u0645\u0634\u062a\u0631\u06cc \u06cc\u0627 \u0635\u0627\u062d\u0628 \u06a9\u0627\u0631 \u062e\u0648\u062f \u0646\u0634\u0627\u0646 \u062f\u0647\u0646\u062f \u06a9\u0647 \u0635\u0641\u062d\u0647 \u0637\u0631\u0627\u062d\u06cc \u06cc\u0627 \u0635\u0641\u062d\u0647 \u0628\u0646\u062f\u06cc \u0634\u062f\u0647 \u0628\u0639\u062f \u0627\u0632 \u0627\u06cc\u0646\u06a9\u0647 \u0645\u062a\u0646 \u062f\u0631 \u0622\u0646 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u062f \u0686\u06af\u0648\u0646\u0647 \u0628\u0647 \u0646\u0638\u0631 \u0645\u06cc\u200c\u0631\u0633\u062f \u0648 \u0642\u0644\u0645\u200c\u0647\u0627 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627 \u0686\u06af\u0648\u0646\u0647 \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647\u200c\u0627\u0633\u062a. \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0637\u0631\u0627\u062d\u0627\u0646 \u0639\u0645\u0648\u0645\u0627 \u0646\u0648\u06cc\u0633\u0646\u062f\u0647 \u0645\u062a\u0646 \u0646\u06cc\u0633\u062a\u0646\u062f \u0648 \u0648\u0638\u06cc\u0641\u0647 \u0631\u0639\u0627\u06cc\u062a \u062d\u0642 \u062a\u06a9\u062b\u06cc\u0631 \u0645\u062a\u0648\u0646 \u0631\u0627 \u0646\u062f\u0627\u0631\u0646\u062f \u0648 \u062f\u0631 \u0647\u0645\u0627\u0646 \u062d\u0627\u0644 \u06a9\u0627\u0631 \u0622\u0646\u0647\u0627 \u0628\u0647 \u0646\u0648\u0639\u06cc \u0648\u0627\u0628\u0633\u062a\u0647 \u0628\u0647 \u0645\u062a\u0646 \u0645\u06cc\u200c\u0628\u0627\u0634\u062f \u0622\u0646\u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0645\u062d\u062a\u0648\u06cc\u0627\u062a \u0633\u0627\u062e\u062a\u06af\u06cc\u060c \u0635\u0641\u062d\u0647 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u062e\u0648\u062f \u0631\u0627 \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0645\u0631\u062d\u0644\u0647 \u0637\u0631\u0627\u062d\u06cc \u0648 \u0635\u0641\u062d\u0647\u200c\u0628\u0646\u062f\u06cc \u0631\u0627 \u0628\u0647 \u067e\u0627\u06cc\u0627\u0646 \u0628\u0631\u0646\u062f.","image":"http:\/\/roocket.org\/images\/uploads\/1532615399design-patterns-thum.jpg","price":"90000","created_at":"2018-07-26 14:29:59","updated_at":"2018-07-26 14:29:59"},{"id":35,"user_id":1,"title":"\u0645\u062d\u0635\u0648\u0644 \u0634\u0645\u0627\u0631\u0647 31","body":"\u0637\u0631\u0627\u062d \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0627\u0632 \u0627\u06cc\u0646 \u0645\u062a\u0646 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0639\u0646\u0635\u0631\u06cc \u0627\u0632 \u062a\u0631\u06a9\u06cc\u0628 \u0628\u0646\u062f\u06cc \u0628\u0631\u0627\u06cc \u067e\u0631 \u06a9\u0631\u062f\u0646 \u0635\u0641\u062d\u0647 \u0648 \u0627\u0631\u0627\u06cc\u0647 \u0627\u0648\u0644\u06cc\u0647 \u0634\u06a9\u0644 \u0638\u0627\u0647\u0631\u06cc \u0648 \u06a9\u0644\u06cc \u0637\u0631\u062d \u0633\u0641\u0627\u0631\u0634 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0646\u0645\u0627\u06cc\u062f\u060c \u062a\u0627 \u0627\u0632 \u0646\u0638\u0631 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u0646\u0634\u0627\u0646\u06af\u0631 \u0686\u06af\u0648\u0646\u06af\u06cc \u0646\u0648\u0639 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0648\u0646\u062a \u0648 \u0638\u0627\u0647\u0631 \u0645\u062a\u0646 \u0628\u0627\u0634\u062f. \u0645\u0639\u0645\u0648\u0644\u0627 \u0637\u0631\u0627\u062d\u0627\u0646 \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc\u060c \u0646\u062e\u0633\u062a \u0627\u0632 \u0645\u062a\u0646\u200c\u0647\u0627\u06cc \u0622\u0632\u0645\u0627\u06cc\u0634\u06cc \u0648 \u0628\u06cc\u200c\u0645\u0639\u0646\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0635\u0631\u0641\u0627 \u0628\u0647 \u0645\u0634\u062a\u0631\u06cc \u06cc\u0627 \u0635\u0627\u062d\u0628 \u06a9\u0627\u0631 \u062e\u0648\u062f \u0646\u0634\u0627\u0646 \u062f\u0647\u0646\u062f \u06a9\u0647 \u0635\u0641\u062d\u0647 \u0637\u0631\u0627\u062d\u06cc \u06cc\u0627 \u0635\u0641\u062d\u0647 \u0628\u0646\u062f\u06cc \u0634\u062f\u0647 \u0628\u0639\u062f \u0627\u0632 \u0627\u06cc\u0646\u06a9\u0647 \u0645\u062a\u0646 \u062f\u0631 \u0622\u0646 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u062f \u0686\u06af\u0648\u0646\u0647 \u0628\u0647 \u0646\u0638\u0631 \u0645\u06cc\u200c\u0631\u0633\u062f \u0648 \u0642\u0644\u0645\u200c\u0647\u0627 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627 \u0686\u06af\u0648\u0646\u0647 \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647\u200c\u0627\u0633\u062a. \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0637\u0631\u0627\u062d\u0627\u0646 \u0639\u0645\u0648\u0645\u0627 \u0646\u0648\u06cc\u0633\u0646\u062f\u0647 \u0645\u062a\u0646 \u0646\u06cc\u0633\u062a\u0646\u062f \u0648 \u0648\u0638\u06cc\u0641\u0647 \u0631\u0639\u0627\u06cc\u062a \u062d\u0642 \u062a\u06a9\u062b\u06cc\u0631 \u0645\u062a\u0648\u0646 \u0631\u0627 \u0646\u062f\u0627\u0631\u0646\u062f \u0648 \u062f\u0631 \u0647\u0645\u0627\u0646 \u062d\u0627\u0644 \u06a9\u0627\u0631 \u0622\u0646\u0647\u0627 \u0628\u0647 \u0646\u0648\u0639\u06cc \u0648\u0627\u0628\u0633\u062a\u0647 \u0628\u0647 \u0645\u062a\u0646 \u0645\u06cc\u200c\u0628\u0627\u0634\u062f \u0622\u0646\u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0645\u062d\u062a\u0648\u06cc\u0627\u062a \u0633\u0627\u062e\u062a\u06af\u06cc\u060c \u0635\u0641\u062d\u0647 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u062e\u0648\u062f \u0631\u0627 \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0645\u0631\u062d\u0644\u0647 \u0637\u0631\u0627\u062d\u06cc \u0648 \u0635\u0641\u062d\u0647\u200c\u0628\u0646\u062f\u06cc \u0631\u0627 \u0628\u0647 \u067e\u0627\u06cc\u0627\u0646 \u0628\u0631\u0646\u062f.","image":"http:\/\/roocket.org\/images\/uploads\/1532612252nodejs-thum.png","price":"90000","created_at":"2018-07-26 13:37:32","updated_at":"2018-07-26 13:37:32"},{"id":1,"user_id":1,"title":"\u0645\u062d\u0635\u0648\u0644 \u0634\u0645\u0627\u0631\u0647 1","body":"\u0637\u0631\u0627\u062d \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0627\u0632 \u0627\u06cc\u0646 \u0645\u062a\u0646 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0639\u0646\u0635\u0631\u06cc \u0627\u0632 \u062a\u0631\u06a9\u06cc\u0628 \u0628\u0646\u062f\u06cc \u0628\u0631\u0627\u06cc \u067e\u0631 \u06a9\u0631\u062f\u0646 \u0635\u0641\u062d\u0647 \u0648 \u0627\u0631\u0627\u06cc\u0647 \u0627\u0648\u0644\u06cc\u0647 \u0634\u06a9\u0644 \u0638\u0627\u0647\u0631\u06cc \u0648 \u06a9\u0644\u06cc \u0637\u0631\u062d \u0633\u0641\u0627\u0631\u0634 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0646\u0645\u0627\u06cc\u062f\u060c \u062a\u0627 \u0627\u0632 \u0646\u0638\u0631 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u0646\u0634\u0627\u0646\u06af\u0631 \u0686\u06af\u0648\u0646\u06af\u06cc \u0646\u0648\u0639 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0648\u0646\u062a \u0648 \u0638\u0627\u0647\u0631 \u0645\u062a\u0646 \u0628\u0627\u0634\u062f. \u0645\u0639\u0645\u0648\u0644\u0627 \u0637\u0631\u0627\u062d\u0627\u0646 \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc\u060c \u0646\u062e\u0633\u062a \u0627\u0632 \u0645\u062a\u0646\u200c\u0647\u0627\u06cc \u0622\u0632\u0645\u0627\u06cc\u0634\u06cc \u0648 \u0628\u06cc\u200c\u0645\u0639\u0646\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0635\u0631\u0641\u0627 \u0628\u0647 \u0645\u0634\u062a\u0631\u06cc \u06cc\u0627 \u0635\u0627\u062d\u0628 \u06a9\u0627\u0631 \u062e\u0648\u062f \u0646\u0634\u0627\u0646 \u062f\u0647\u0646\u062f \u06a9\u0647 \u0635\u0641\u062d\u0647 \u0637\u0631\u0627\u062d\u06cc \u06cc\u0627 \u0635\u0641\u062d\u0647 \u0628\u0646\u062f\u06cc \u0634\u062f\u0647 \u0628\u0639\u062f \u0627\u0632 \u0627\u06cc\u0646\u06a9\u0647 \u0645\u062a\u0646 \u062f\u0631 \u0622\u0646 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u062f \u0686\u06af\u0648\u0646\u0647 \u0628\u0647 \u0646\u0638\u0631 \u0645\u06cc\u200c\u0631\u0633\u062f \u0648 \u0642\u0644\u0645\u200c\u0647\u0627 \u0648 \u0627\u0646\u062f\u0627\u0632\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627 \u0686\u06af\u0648\u0646\u0647 \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647\u200c\u0627\u0633\u062a. \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0637\u0631\u0627\u062d\u0627\u0646 \u0639\u0645\u0648\u0645\u0627 \u0646\u0648\u06cc\u0633\u0646\u062f\u0647 \u0645\u062a\u0646 \u0646\u06cc\u0633\u062a\u0646\u062f \u0648 \u0648\u0638\u06cc\u0641\u0647 \u0631\u0639\u0627\u06cc\u062a \u062d\u0642 \u062a\u06a9\u062b\u06cc\u0631 \u0645\u062a\u0648\u0646 \u0631\u0627 \u0646\u062f\u0627\u0631\u0646\u062f \u0648 \u062f\u0631 \u0647\u0645\u0627\u0646 \u062d\u0627\u0644 \u06a9\u0627\u0631 \u0622\u0646\u0647\u0627 \u0628\u0647 \u0646\u0648\u0639\u06cc \u0648\u0627\u0628\u0633\u062a\u0647 \u0628\u0647 \u0645\u062a\u0646 \u0645\u06cc\u200c\u0628\u0627\u0634\u062f \u0622\u0646\u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0645\u062d\u062a\u0648\u06cc\u0627\u062a \u0633\u0627\u062e\u062a\u06af\u06cc\u060c \u0635\u0641\u062d\u0647 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u062e\u0648\u062f \u0631\u0627 \u0635\u0641\u062d\u0647\u200c\u0622\u0631\u0627\u06cc\u06cc \u0645\u06cc\u200c\u06a9\u0646\u0646\u062f \u062a\u0627 \u0645\u0631\u062d\u0644\u0647 \u0637\u0631\u0627\u062d\u06cc \u0648 \u0635\u0641\u062d\u0647\u200c\u0628\u0646\u062f\u06cc \u0631\u0627 \u0628\u0647 \u067e\u0627\u06cc\u0627\u0646 \u0628\u0631\u0646\u062f.","image":"https:\/\/lorempixel.com\/640\/400\/?31472","price":"100","created_at":"2017-09-22 14:30:07","updated_at":"2017-09-22 14:30:07"}],"first_page_url":"http:\/\/roocket.org\/api\/products?page=1","from":1,"last_page":6,"last_page_url":"http:\/\/roocket.org\/api\/products?page=6","next_page_url":"http:\/\/roocket.org\/api\/products?page=2","path":"http:\/\/roocket.org\/api\/products","per_page":6,"prev_page_url":null,"to":6,"total":35},"status":"success"}';  
/****************************/       
        
        
        
        
} catch (\Exception $e) {
    echo 'Something went wrong: '.$e->getMessage()."\n";
}